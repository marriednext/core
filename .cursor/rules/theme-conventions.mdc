---
description: Conventions for wedding website theme components
globs:
  - packages/component-shelf/src/components/theme/**/*
alwaysApply: false
---

# Theme Component Conventions

Wedding website themes use a strict prop convention to separate database-required data from optional customizations.

## Phase 1: Data & Customization Props

Components that receive database data use two prop categories:

### `data` (Required)

Database-sourced values essential for the component to function. Marked with `@database` JSDoc tag.

```typescript
export interface HeroSectionData {
  nameA: string | null;
  nameB: string | null;
  eventDate?: string | null;
}
```

### `customization` (Optional)

Label and style tweaks with sensible defaults from `label-shelf`. Marked with `@customizable` JSDoc tag.

```typescript
export interface HeroSectionCustomization {
  subtitleLabel?: string;
}
```

### Combined Props Interface

```typescript
export interface HeroSectionProps {
  data: HeroSectionData;
  customization?: HeroSectionCustomization;
}
```

## Phase 2: Editable Labels

Add inline editing support for customization labels via `editable` and `onCustomizationChange` props.

### Props Interface

```typescript
export interface HeroSectionProps {
  data: HeroSectionData;
  customization?: HeroSectionCustomization;
  editable?: boolean;
  onCustomizationChange?: (key: keyof HeroSectionCustomization, value: string) => void;
}
```

### Component Implementation

```tsx
import { EditableLabel } from "../../ui/editable-label";

export function HeroSection({
  data,
  customization = { subtitleLabel: labels["lisastheme.hero.pretext.label"] },
  editable = false,
  onCustomizationChange,
}: HeroSectionProps) {
  const handleChange = (key: keyof typeof customization, value: string) => {
    onCustomizationChange?.(key, value);
  };

  return (
    <EditableLabel
      as="p"
      value={customization.subtitleLabel}
      editable={editable}
      onChange={(v) => handleChange("subtitleLabel", v)}
    />
  );
}
```

## Type Naming Convention

- `*Data` - Database-required fields (e.g., `HeroSectionData`)
- `*Customization` - Optional label/style overrides (e.g., `HeroSectionCustomization`)
- `*Props` - Combined interface with `data`, `customization`, and editable props

## Components Without Database Data

Some components have no required database fields (e.g., `StickyNav`, `RegistrySection`). These use only `customization?` without a `data` prop.

## Adding New Sections

1. Define `*Data` interface in `types.ts` with `@database` JSDoc tag (if component needs DB data)
2. Define `*Customization` interface with `@customizable` JSDoc tag
3. Define `*Props` interface with `data`, `customization`, `editable`, and `onCustomizationChange`
4. Implement component with `EditableLabel` wrapping customization labels
5. Wire up in parent theme component (e.g., `LisasTheme.tsx`)
